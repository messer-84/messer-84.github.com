{"version":3,"file":"./dist/bundle.js","sources":["webpack:///webpack/bootstrap dc1f1b78db47ed4dac8a","webpack:///./js/app.js","webpack:///./js/api-service.js","webpack:///./js/contact.js","webpack:///./js/keypad.js","webpack:///./js/add-user.js","webpack:///./js/edit-contact.js","webpack:///./js/user.js"],"sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap dc1f1b78db47ed4dac8a","import api from './api-service';\nimport Contacts from './contact';\nimport Keypad from './keypad';\nimport AddUser from './add-user';\nimport EditContact from './edit-contact';\nimport User from './user';\n\n\nclass App {\n\tconstructor() {\n\t\tthis.state = {\n\t\t\tdb: {\n\t\t\t\tusers: [],\n\t\t\t\tactiveUsers: [],\n\t\t\t\tselectedUser: 1,\n\t\t\t\tlastMessages: [],\n\t\t\t\tsortedUsers: []\n\t\t\t},\n\t\t\tlocals: {\n\t\t\t\tforms: {\n\t\t\t\t\tinput: 'qweqwe'\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tthis.ui = {\n\t\t\tindex: new Contacts(this.state), // users\n\t\t\tkeypad: new Keypad(this.state),\n\t\t\taddUser: new AddUser(this.state),\n\t\t\teditContact: new EditContact(this.state),\n\t\t\tuser: new User(this.state)\n\t\t};\n\t}\n\n\tcreateFooter() {\n\t\tconst body = document.querySelector('body');\n\t\tconst footer = document.createElement('footer');\n\t\tfooter.className = 'footer';\n\t\tbody.appendChild(footer);\n\t\tfooter.innerHTML = `<div class=\"container bottom-radius\">\n          <nav class=\"main-nav\">\n    \t\t\t\t<a href=\"index.html\" class=\"tab active\">\n    \t\t\t\t\t<span class=\"glyphicon glyphicon-search\" aria-hidden=\"true\"></span>\n    \t\t\t\t\t<span class=\"tab-text\">Contacts</span>\n    \t\t\t\t</a>\n    \t\t\t\t<a href=\"keypad.html\" class=\"tab\">\n    \t\t\t\t\t<span class=\"glyphicon glyphicon-th\" aria-hidden=\"true\"></span>\n    \t\t\t\t\t<span class=\"tab-text\">Keypad</span>\n    \t\t\t\t</a>\n    \t\t\t\t<a href=\"add-user.html\" class=\"tab\">\n    \t\t\t\t\t<span class=\"glyphicon glyphicon-plus\" aria-hidden=\"true\"></span>\n    \t\t\t\t\t<span class=\"tab-text\">Add user</span>\n    \t\t\t\t</a>\n          </nav>\n        </div>`;\n\t}\n\n\n\tinit() {\n\t\tthis.render();\n\t\tthis.router();\n\t}\n\n\trouter() {\n\t\twindow.addEventListener('load', (e) => {\n\t\t\tconst links = [...document.querySelectorAll('.tab')];\n\t\t\tlinks.forEach(link => {\n\t\t\t\tlet href = link.getAttribute('href');\n\t\t\t\tlink.addEventListener('click', e => {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tlinks.forEach(elem => {\n\t\t\t\t\t\telem.classList.remove('active');\n\t\t\t\t\t});\n\t\t\t\t\tlink.classList.toggle('active');\n\n\t\t\t\t\tif (href === 'keypad.html') {\n\t\t\t\t\t\tthis.ui.keypad.render();\n\t\t\t\t\t}\n\t\t\t\t\tif (href === 'index.html') {\n\t\t\t\t\t\tthis.ui.index.render();\n\t\t\t\t\t}\n\t\t\t\t\tif(href === 'add-user.html'){\n\t\t\t\t\t\tthis.ui.addUser.render();\n\t\t\t\t\t}\n\t\t\t\t\thistory.pushState(href, href, href);\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t\twindow.addEventListener('popstate', event => {\n\n\t\t});\n\t}\n\n\trender() {\n\t\tthis.ui.index.render();\n\t\tthis.createFooter();\n\t}\n}\n\nconst app = new App();\napp.init();\n\nexport default app;\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/app.js\n// module id = 0\n// module chunks = 0","// все запросы к серверу вот здесь\n\nclass Api {\n\tconstructor(url) {\n\t\tthis.url = url;\n\t}\n\n\trequestUsers() {\n\t\treturn fetch(this.url).then(users => users.json());\n\t}\n\n\taddUser(url, user) {\n\t\tfetch(url, {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t},\n\t\t\tbody: JSON.stringify(user)\n\t\t});\n\t}\n\n\teditContact(url, user) {\n\t\tfetch(url, {\n\t\t\tmethod: 'PATCH',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t},\n\t\t\tbody: JSON.stringify(user)\n\t\t}).catch( err => console.error(err));\n\t}\n\n\tdeleteContact(url){\n\t\tconsole.log(url);\n\n\t\tfetch ( url,\n\t\t  {\n\t\t    method: 'DELETE',\n\t\t  }\n\t\t)\n\t\t.catch( err => console.error(err));\n\t}\n}\n\n\nconst url = 'http://easycode-js.herokuapp.com/maksimVorobyov/';\nconst api = new Api(url + 'users');\n\nexport default api;\n\n\n\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/api-service.js\n// module id = 1\n// module chunks = 0","import api from './api-service';\nimport app from './app';\n\nclass Contacts {\n  constructor(appState) {\n    this.appState = appState;\n    this.app = document.querySelector('#app');\n  }\n\n  createTag(tag, parent, mClass) {\n    mClass = mClass || false;\n    var myTag = document.createElement(tag);\n    if (mClass) {\n      myTag.className = mClass;\n    }\n    parent.appendChild(myTag);\n    return myTag;\n  }\n\n  renderUsers(parent){\n    api.requestUsers().then(users=>{\n      this.appState.db.users = users;\n      this.appState.db.sortedUsers = users;\n      const table = this.createTag('table', parent, 'table table-hover contacts');\n      table.innerHTML = `<thead><tr><th>Full Name</th><th>Phone</th><th>Email</th></tr></thead>`;\n      const tbody = this.createTag('tbody', table);\n      this.createTR(tbody, users);\n      this.tableSort(this.appState.db.sortedUsers);\n      this.getUser(this.appState.db.sortedUsers);\n\n   })\n  }\n\n  createSearchBlock(parent) {\n    const form = this.createTag('form', parent, 'form-inline search-form');\n    form.innerHTML = `<div class=\"form-group\">\n                <label class=\"sr-only\" for=\"search\">Search</label>\n                <input type=\"text\" class=\"form-control\" id=\"search\" placeholder=\"Search\">\n              </div>`;\n  }\n\n  createTR(parent, data) {\n    var trHtml = '';\n    data.forEach(elem => {\n      trHtml += `<tr><td>${elem.fullName}</td><td>${elem.phone}</td><td>${elem.email}</td></tr>`;\n    });\n    parent.innerHTML = trHtml;\n\n  }\n\n\n  tableSort(userData) {\n\n    let thCell = document.querySelectorAll('th');\n    var thead = document.querySelector('thead');\n\n    thead.addEventListener('click', e => {\n      let control = e.target;\n      let field;\n\n      if (control === thCell[0]) {\n        field = 'fullName';\n      }\n      if (control === thCell[1]) {\n        field = 'phone';\n      }\n      if (control === thCell[2]) {\n        field = 'email'\n      }\n      var newUsers = userData.sort((a, b) => {\n        return a[field] > b[field];\n      });\n      let tbodyHtml = document.querySelector('tbody');\n      tbodyHtml.innerHTML = '';\n      this.appState.db.sortedUsers = newUsers;\n      this.createTR(tbodyHtml, newUsers);\n\n    });\n  }\n  getUser(users){\n    var href = 'user.html';\n    var tbody = document.querySelector('tbody');\n    tbody.addEventListener('click', e =>{\n      var userIndex = e.target.parentElement.rowIndex - 1;\n      this.appState.db.selectedUser = userIndex;\n      app.ui.user.render();\n      history.pushState(href, href, href);\n\n    });\n\n  }\n\n  header() {\n\n    const header = this.createTag('header', this.app, 'header');\n    header.innerHTML = `<div class=\"container top-radius\"><h2>Contacts</h2></div>`;\n  }\n\n  main() {\n    const mainHtml = this.createTag('main', this.app);\n    const div = this.createTag('div', mainHtml, 'container');\n    this.createSearchBlock(div);\n    this.renderUsers(div);\n  }\n\n  render() {\n    this.app.innerHTML = '';\n    this.header();\n    this.main();\n\n  }\n}\n\nexport default Contacts;\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/contact.js\n// module id = 2\n// module chunks = 0","class Keypad {\n\tconstructor(appState) {\n\t\tthis.appState = appState;\n\t\tthis.app = document.querySelector('#app');\n\t}\n\n\tcreateTag(tag, parent, mClass) {\n\t\tmClass = mClass || false;\n\t\tvar myTag = document.createElement(tag);\n\t\tif (mClass) {\n\t\t\tmyTag.className = mClass;\n\t\t}\n\t\tparent.appendChild(myTag);\n\t\treturn myTag;\n\t}\n\n\n\tcreateNumberHolder(parent) {\n\t\tconst keypadWrap = this.createTag('div', parent, 'keypad-holder');\n\n\t\tkeypadWrap.innerHTML = `<div class=\"number\"><span id=\"addUser\" class=\"glyphicon glyphicon-plus-sign\" aria-hidden=\"true\"></span>\n    \t\t\t\t<span class=\"numbers\"></span>\n    \t\t\t\t<span id=\"deleteNumber\" class=\"glyphicon glyphicon-circle-arrow-left\" aria-hidden=\"true\"></span></div>\n    \t\t\t\t<div class=\"keypad-holder\"><button class=\"key\">1</button><button class=\"key\">2</button><button class=\"key\">3</button><button class=\"key\">4</button><button class=\"key\">5</button><button class=\"key\">6</button><button class=\"key\">7</button><button class=\"key\">8</button><button class=\"key\">9</button><button class=\"key\">*</button><button class=\"key\">0</button><button class=\"key\">#</button><button class=\"key key-call\"><span class=\"glyphicon glyphicon-earphone\" aria-hidden=\"true\"></span></button></div>`;\n\t}\n\n\ttransformPhoneNumber(element, char) {\n\t\tif (element.textContent.length < 14) {\n\t\t\tif (!element.textContent) {\n\t\t\t\telement.textContent += '(' + char;\n\t\t\t} else if (element.textContent.length === 4) {\n\t\t\t\telement.textContent += ') ' + char;\n\t\t\t} else if (element.textContent.length === 9) {\n\t\t\t\telement.textContent += '-' + char;\n\t\t\t}\n\t\t\telse {\n\t\t\t\telement.textContent += char;\n\t\t\t}\n\t\t}\n\t}\n\n\tfuncCalling() {\n\t\tlet numBlock = document.querySelector('.numbers');\n\t\tlet keypad = document.querySelector('.keypad-holder');\n\t\tkeypad.addEventListener('click', e => {\n\t\t\tif (e.target.className === 'key') {\n\t\t\t\tthis.transformPhoneNumber(numBlock, e.target.textContent);\n\t\t\t}\n\t\t});\n\t}\n\n\tfuncKeyDown() {\n\t\tlet numBlock = document.querySelector('.numbers');\n\t\tconst addNumberEvent = (e) => {\n\t\t\tif (+e.key >= 0 || e.key === '*' || e.key === '#') {\n\t\t\t\tthis.transformPhoneNumber(numBlock, e.key);\n\t\t\t}\n\t\t\tif (e.key === 'Backspace') {\n\t\t\t\t//todo delete this hack // funcDelete init on add and edit pages\n\t\t\t\tvar num = document.querySelector('.numbers');\n\t\t\t\tif (num !== null) {\n\t\t\t\t\tthis.funcDeleteNumber();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\twindow.addEventListener('keyup', addNumberEvent);\n\t}\n\n\tfuncDeleteNumber(e) {\n\t\tlet numBlock = document.querySelector('.numbers');\n\t\tvar curData = numBlock.textContent;\n\t\tvar newData = curData.slice(0, curData.length - 1);\n\t\tnumBlock.textContent = newData;\n\t}\n\n\tfuncDeleteNumberFromBtn() {\n\t\tlet deleteBTN = document.querySelector('#deleteNumber');\n\t\tdeleteBTN.addEventListener('click', e => {\n\t\t\tthis.funcDeleteNumber(e);\n\t\t});\n\t}\n\n\theader() {\n\t\tconst header = this.createTag('header', this.app, 'header');\n\t\theader.innerHTML = `<div class=\"container top-radius\"><h2>Keypad</h2></div>`;\n\t}\n\n\tevents() {\n\t\tthis.funcCalling();\n\t\tthis.funcDeleteNumberFromBtn();\n\t\tthis.funcKeyDown();\n\t}\n\n\tmain() {\n\t\tconst mainHtml = this.createTag('main', this.app);\n\t\tconst div = this.createTag('div', mainHtml, 'container');\n\t\tthis.createNumberHolder(div);\n\t\tthis.events();\n\n\t}\n\n\trender() {\n\t\tthis.app.innerHTML = '';\n\t\tthis.header();\n\t\tthis.main();\n\n\t}\n}\n\nexport default Keypad;\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/keypad.js\n// module id = 3\n// module chunks = 0","import api from './api-service'\n\nclass AddUser {\n\tconstructor(appState) {\n\t\tthis.appState = appState;\n\t\tthis.appHTML = document.querySelector('#app');\n\t\tthis.phoneBlock = '';\n\t\tthis.url = 'http://easycode-js.herokuapp.com/maksimVorobyov/users';\n\n\t}\n\n\tcreateTag(tag, parent, mClass) {\n\t\tmClass = mClass || false;\n\t\tvar myTag = document.createElement(tag);\n\t\tif (mClass) {\n\t\t\tmyTag.className = mClass;\n\t\t}\n\t\tparent.appendChild(myTag);\n\t\treturn myTag;\n\t}\n\n\theader() {\n\t\tconst header = this.createTag('header', this.appHTML, 'header');\n\t\theader.innerHTML = `<div class=\"container top-radius\"><nav class=\"user-top-line\">\n    \t\t\t\t<a href=\"index.html\" id=\"cancel\">Cancel</a>\n    \t\t\t\t<button class=\"done-btn\" id=\"done\">Done</button>\n    \t\t\t</nav></div>`;\n\t}\n\n\tcreateMainInfo(parent) {\n\t\tconst addMainBlock = this.createTag('div', parent, 'edit-main-info');\n\t\taddMainBlock.innerHTML = `<div class=\"edit-foto\">\n    \t\t\t\t\t<button class=\"add-foto-btn\"><span class=\"glyphicon glyphicon-plus-sign\" aria-hidden=\"true\"></span>\n    \t\t\t\t\t  <input type=\"file\" id=\"photo\" class=\"file add-btn\">\n    \t\t\t\t\t\t<span>add foto</span></button>\n    \t\t\t\t</div> \n    \t\t\t\t<div class=\"main-info-holder\">\n    \t\t\t\t\t<div class=\"edit-field\">\n    \t\t\t\t\t\t<span class=\"glyphicon glyphicon-plus-sign\" aria-hidden=\"true\"></span>\n\t\t\t\t\t\t\t\t<span class=\"add-label\">First name</span>\n\t\t\t\t\t\t\t\t<span class=\"contentedit\" id='fullName' contenteditable=\"true\"></span>\n    \t\t\t\t\t\t\n    \t\t\t\t\t</div>\n    \t\t\t\t\t<div class=\"edit-field\">\n    \t\t\t\t\t\t<span class=\"glyphicon glyphicon-plus-sign\" aria-hidden=\"true\"></span>\n\t\t\t\t\t\t\t\t<span class=\"add-label\">Last name</span>\n\t\t\t\t\t\t\t\t<span class=\"contentedit\" id='lastname' contenteditable=\"true\"></span>\n    \t\t\t\t\t</div>\n    \t\t\t\t\t<div class=\"edit-field\">\n    \t\t\t\t\t\t<span class=\"glyphicon glyphicon-plus-sign\" aria-hidden=\"true\"></span>\n\t\t\t\t\t\t\t\t<span class=\"add-label\">Company</span>\n\t\t\t\t\t\t\t\t<span class=\"contentedit\" id='company' contenteditable=\"true\"></span>\n    \t\t\t\t\t</div>\n    \t\t\t\t</div> `;\n\t}\n\n\tcreateInfo(parent) {\n\t\tconst scrollHolder = this.createTag('div', parent, 'scroll-holder');\n\t\tscrollHolder.innerHTML = `<div class=\"edit-info\"><div class=\"edit-field\">\n      \t\t\t\t\t\t<span class=\"glyphicon glyphicon-plus-sign\" aria-hidden=\"true\"></span>\n      \t\t\t\t\t\t<span class=\"add-label\">add phone</span>\n      \t\t\t\t\t\t<span class=\"contentedit\" id='phone' contenteditable=\"true\"></span>\n      \t\t\t\t\t\t\n      \t\t\t\t\t</div><div class=\"edit-field\">\n      \t\t\t<span class=\"glyphicon glyphicon-plus-sign\" aria-hidden=\"true\"></span>\n      \t\t\t<span class=\"add-label\">add email</span>\n\t\t\t\t\t\t<span class=\"contentedit\" id='email' contenteditable=\"true\"></span>\n      \t\t\t\n      \t\t\t\t\t</div>\n      \t\t\t<div class=\"edit-field\">\n      \t\t\t\t<span class=\"glyphicon glyphicon-plus-sign\" aria-hidden=\"true\"></span>\n      \t\t\t\t<span class=\"add-label\">Add address</span>\n\t\t\t\t\t\t\t<span class=\"contentedit\" id='address' contenteditable=\"true\"></span>\n      \t\t\t\t\n            </div>\n            <div class=\"edit-field\">\n              <span class=\"glyphicon glyphicon-plus-sign\" aria-hidden=\"true\"></span>\n              <span class=\"add-label\">Add birthday</span>\n\t\t\t\t\t\t\t<span class=\"contentedit\" id='birthday' contenteditable=\"true\"></span>\n              \n              </div>\n            <div class=\"edit-field\">\n              <span class=\"glyphicon glyphicon-plus-sign\" aria-hidden=\"true\"></span>\n              <span class=\"add-label\">Add social profile</span>\n\t\t\t\t\t\t\t<span class=\"contentedit\" id='socialProfile' contenteditable=\"true\"></span>\n            </div>\n            <div class=\"edit-field\">\n              <span class=\"glyphicon glyphicon-plus-sign\" aria-hidden=\"true\"></span>\n              <span class=\"add-label\">Add field</span>\n\t\t\t\t\t\t\t<span class=\"contentedit\" id='addField' contenteditable=\"true\"></span>\n            </div>\n              <div class=\"edit-field\">\n                <button href=\"#\" class=\"delete-contact\" id=\"clear\">clear fields</button>\n              </div>\n            </div> `;\n\t}\n\n\tsendData() {\n\t\tconst doneBtn = document.querySelector('#done');\n\t\tdoneBtn.addEventListener('click', e => {\n\t\t\tvar newUser = {};\n\t\t\tvar fieldsElem = document.querySelectorAll('.contentedit');\n\t\t\t[...fieldsElem].forEach(elem => {\n\t\t\t\tnewUser[elem.id] = elem.textContent;\n\t\t\t});\n\t\t\tapi.addUser(this.url, newUser);\n\n\t\t\talert('User added!!!');\n\t\t});\n\t}\n\n\tclearData() {\n\t\tconst clearBtn = document.querySelector('#clear');\n\t\tlet fieldsElem = document.querySelectorAll('.contentedit');\n\t\tclearBtn.addEventListener('click', e => {\n\t\t\t[...fieldsElem].forEach(elem => {\n\t\t\t\telem.textContent = '';\n\t\t\t});\n\t\t});\n\t}\n\n\tphoneCheck() {\n\t\tconst phone = document.querySelector('#phone');\n\n\t\tphone.addEventListener('keydown', e => {\n\t\t\tif (e.key !== 'Backspace') {\n\t\t\t\tphone.textContent = phoneMask(phone.textContent);\n\t\t\t\tsetEndOfContenteditable(phone);\n\t\t\t}\n\t\t});\n\n\t\tfunction setEndOfContenteditable(contentEditableElement) {\n\t\t\tvar range, selection;\n\t\t\trange = document.createRange();\n\t\t\trange.selectNodeContents(contentEditableElement);\n\t\t\trange.collapse(false);\n\t\t\tselection = window.getSelection();\n\t\t\tselection.removeAllRanges();\n\t\t\tselection.addRange(range);\n\t\t}\n\n\t\tfunction phoneMask(elementContent) {\n\t\t\telementContent = elementContent.slice(0, 13);\n\t\t\treturn elementContent.replace(/\\D/g, '')\n\t\t\t\t\t.replace(/^(\\d)/, '($1')\n\t\t\t\t\t.replace(/^(\\(\\d{3})(\\d)/, '$1) $2')\n\t\t\t\t\t.replace(/(\\d{3})(\\d{1,4})/, '$1-$2')\n\t\t\t\t\t.replace(/(-\\d{4})\\d+?$/, '$1');\n\t\t}\n\t}\n\n\tmain() {\n\t\tconst mainHtml = this.createTag('main', this.appHTML);\n\t\tconst div = this.createTag('div', mainHtml, 'container');\n\t\tthis.createMainInfo(div);\n\t\tthis.createInfo(div);\n\t\tthis.sendData();\n\t\tthis.clearData();\n\t\tthis.phoneCheck();\n\t}\n\n\trender() {\n\t\tthis.appHTML.innerHTML = '';\n\t\tthis.header();\n\t\tthis.main();\n\t}\n}\n\nexport default AddUser;\n\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/add-user.js\n// module id = 4\n// module chunks = 0","class EditContact {\n\tconstructor(appState) {\n\t\tthis.appState = appState;\n\t\tthis.app = document.querySelector('#app');\n\t\tthis.url = 'http://easycode-js.herokuapp.com/maksimVorobyov/users';\n\t}\n\n\tcreateTag(tag, parent, mClass) {\n\t\tmClass = mClass || false;\n\t\tvar myTag = document.createElement(tag);\n\t\tif (mClass) {\n\t\t\tmyTag.className = mClass;\n\t\t}\n\t\tparent.appendChild(myTag);\n\t\treturn myTag;\n\t}\n\n\n\theader() {\n\t\tconst header = this.createTag('header', this.app, 'header');\n\t\tconst div = this.createTag('div', header, 'container top-radius');\n\t\tdiv.innerHTML = `<nav class=\"user-top-line\">\n    \t\t\t\t<a href=\"index.html\" id=\"cancel\">Cancel</a>\n    \t\t\t\t<button class=\"done-btn\" id=\"done\">Done</button>\n    \t\t\t</nav>`;\n\t}\n\n\tcreateMainInfo(parent) {\n\n\t\tvar index = this.appState.db.selectedUser;\n\t\tvar user = this.appState.db.users[index];\n\n\t\tconst editMainBlock = this.createTag('div', parent, 'edit-main-info');\n\t\teditMainBlock.innerHTML = `<div class=\"edit-foto\">\n       \t\t\t\t\t<img src=\"img/avatar.jpg\" alt=\"#\" class=\" user-img img-circle center-block\">\n       \t\t\t\t</div>\n        \t\t\t\t<div class=\"main-info-holder\">\n       \t\t\t\t\t<div class=\"edit-field\">\n        \t\t\t\t\t\t<span class=\"glyphicon glyphicon-plus-sign\" aria-hidden=\"true\"></span>\n        \t\t\t\t\t\t<span class=\"add-label\">First name</span>\n                    <span class=\"contentedit\" id='fullName' contenteditable=\"true\">${user.fullName}</span>\n        \t\t\t\t\t</div>\n        \t\t\t\t\t<div class=\"edit-field\">\n        \t\t\t\t\t\t<span class=\"glyphicon glyphicon-plus-sign\" aria-hidden=\"true\"></span>\n        \t\t\t\t\t\t<span class=\"add-label\">Last name</span>\n                    <span class=\"contentedit\" id='lastname' contenteditable=\"true\"></span>\n        \t\t\t\t\t</div>\n        \t\t\t\t\t<div class=\"edit-field\">\n        \t\t\t\t\t\t<span class=\"glyphicon glyphicon-plus-sign\" aria-hidden=\"true\"></span>\n        \t\t\t\t\t\t<span class=\"add-label\">Company</span>\n                    <span class=\"contentedit\" id='company' contenteditable=\"true\"></span>\n        \t\t\t\t\t</div>\n        \t\t\t\t</div> `;\n\t}\n\n\tcreateInfo(parent) {\n\t\tvar index = this.appState.db.selectedUser;\n\t\tvar user = this.appState.db.users[index];\n\t\tconst scrollHolder = this.createTag('div', parent, 'scroll-holder');\n\t\tscrollHolder.innerHTML = `<div class=\"edit-info\"><div class=\"edit-field\">\n          \t\t\t\t\t\t<span class=\"glyphicon glyphicon-plus-sign\" aria-hidden=\"true\"></span>\n          \t\t\t\t\t\t<span class=\"add-label\">add phone</span>\n                      <span class=\"contentedit\" id='phone' contenteditable=\"true\">${user.phone}</span>\n          \t\t\t\t\t</div><div class=\"edit-field\">\n          \t\t\t<span class=\"glyphicon glyphicon-plus-sign\" aria-hidden=\"true\"></span>\n          \t\t\t<span class=\"add-label\">add email</span>\n                <span class=\"contentedit\" id='email' contenteditable=\"true\">${user.email}</span>\n          \t\t\t\n          \t\t\t\t\t</div>\n          \t\t\t<div class=\"edit-field\">\n          \t\t\t\t<span class=\"glyphicon glyphicon-plus-sign\" aria-hidden=\"true\"></span>\n          \t\t\t\t<span class=\"add-label\">Add address</span>\n                  <span class=\"contentedit\" id='address' contenteditable=\"true\"></span>\n                </div>\n                <div class=\"edit-field\">\n                  <span class=\"glyphicon glyphicon-plus-sign\" aria-hidden=\"true\"></span>\n                  <span class=\"add-label\">Add birthday</span>\n                  <span class=\"contentedit\" id='birthday' contenteditable=\"true\"></span>\n                  </div>\n                <div class=\"edit-field\">\n                  <span class=\"glyphicon glyphicon-plus-sign\" aria-hidden=\"true\"></span>\n                  <span class=\"add-label\">Add social profile</span>\n                  <span class=\"contentedit\" id='socialProfile' contenteditable=\"true\"></span>\n                </div>\n                <div class=\"edit-field\">\n                  <span class=\"glyphicon glyphicon-plus-sign\" aria-hidden=\"true\"></span>\n                  <span class=\"add-label\">Add field</span>\n                  <span class=\"contentedit\" id='addField' contenteditable=\"true\"></span>\n                </div>\n                  <div class=\"edit-field\">\n                    <button href=\"#\" class=\"delete-contact\" id=\"delete\">delete contact</button>\n                  </div>\n                </div> `;\n\t}\n\n\tsendEditData() {\n\t\tconst indexSelectedContact = this.appState.db.selectedUser;\n\t\tconst idSelectedContact = this.appState.db.users[indexSelectedContact]['_id'];\n\t\tconst doneBtn = document.querySelector('#done');\n\t\tdoneBtn.addEventListener('click', e => {\n\t\t\tvar userData = {};\n\t\t\tvar fieldsElem = document.querySelectorAll('.contentedit');\n\t\t\t[...fieldsElem].forEach(elem => {\n\t\t\t\tuserData[elem.id] = elem.textContent;\n\t\t\t});\n\t\t\tconsole.log(userData);\n\n\t\t\tapi.editContact(`${this.url}/${idSelectedContact}`, userData);\n\t\t\talert('User info changed');\n\n\t\t});\n\t}\n\n\tdeleteContact() {\n\t\tconst deleteBtn = document.querySelector('#delete');\n\t\tconst indexSelectedContact = this.appState.db.selectedUser;\n\t\tconst idSelectedContact = this.appState.db.users[indexSelectedContact]['_id'];\n\t\tdeleteBtn.addEventListener('click', e => {\n\t\t\tconsole.log(idSelectedContact);\n\t\t\tconsole.log(`${this.url}/${idSelectedContact}`);\n\n\t\t\tapi.deleteContact(`${this.url}/${idSelectedContact}`);\n\t\t\talert('User deleted!!!');\n\n\t\t});\n\t}\n\n\tphoneCheck() {\n\t\tconst phone = document.querySelector('#phone');\n\t\tphone.addEventListener('keydown', e => {\n\t\t\tif (e.key !== 'Backspace') {\n\t\t\t\tphone.textContent = phoneMask(phone.textContent);\n\t\t\t\tsetEndOfContenteditable(phone);\n\t\t\t}\n\t\t});\n\t\tfunction setEndOfContenteditable(contentEditableElement) {\n\t\t\tvar range, selection;\n\t\t\trange = document.createRange();\n\t\t\trange.selectNodeContents(contentEditableElement);\n\t\t\trange.collapse(false);\n\t\t\tselection = window.getSelection();\n\t\t\tselection.removeAllRanges();\n\t\t\tselection.addRange(range);\n\t\t}\n\t\tfunction phoneMask(elementContent) {\n\t\t\telementContent = elementContent.slice(0,13);\n\t\t\treturn elementContent.replace(/\\D/g, '')\n\t\t\t\t\t.replace(/^(\\d)/, '($1')\n\t\t\t\t\t.replace(/^(\\(\\d{3})(\\d)/, '$1) $2')\n\t\t\t\t\t.replace(/(\\d{3})(\\d{1,4})/, '$1-$2')\n\t\t\t\t\t.replace(/(-\\d{4})\\d+?$/, '$1');\n\t\t}\n\t}\n\n\tmain() {\n\t\tconst mainHtml = this.createTag('main', this.app);\n\t\tconst div = this.createTag('div', mainHtml, 'container');\n\t\tthis.createMainInfo(div);\n\t\tthis.createInfo(div);\n\t\tthis.sendEditData();\n\t\tthis.deleteContact();\n\t\tthis.phoneCheck();\n\n\t}\n\n\trender() {\n\t\tthis.app.innerHTML = '';\n\t\tthis.header();\n\t\tthis.main();\n\t}\n}\n\nexport default EditContact;\n\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/edit-contact.js\n// module id = 5\n// module chunks = 0","import app from './app';\n\nclass User {\n  constructor(appState) {\n    this.appHTML = document.querySelector('#app');\n    this.appState = appState;\n\n  }\n\n  createTag(tag, parent, mClass) {\n    mClass = mClass || false;\n    var myTag = document.createElement(tag);\n\n    if (mClass) {\n      myTag.className = mClass;\n    }\n    parent.appendChild(myTag);\n    return myTag;\n  }\n\n\n  header() {\n    const header = this.createTag('header', this.appHTML, 'header');\n    header.innerHTML = `<div class=\"container top-radius\">\n          <div class=\"user-top-line\">\n    \t\t\t\t<a href=\"index.html\" id=\"backToContacts\">\n    \t\t\t\t\t<span class=\"glyphicon glyphicon-chevron-left\" aria-hidden=\"true\"></span> Contacts\n    \t\t\t\t</a>\n    \t\t\t\t<a href=\"edit-contact.html\" id=\"editContact\">Edit</a>\n    \t\t\t</div>\n        </div>`;\n  }\n\n  createOptionsLine(parent) {\n    var index = this.appState.db.selectedUser;\n    var user = this.appState.db.users[index];\n\n    parent.innerHTML = `\n      <img src=\"img/avatar.jpg\" alt=\"#\" class=\" user-img img-circle center-block\">\n      <div class=\"user-name\">${user.fullName}</div>\n      <div class=\"options-line\">\n        <div class=\"message\">\n          <div class=\"options-icon\"><span class=\"icon glyphicon glyphicon-comment\" aria-hidden=\"true\"></span></div>\n          <span class=\"options-text\">message</span>\n        </div>\n        <div class=\"call\">\n          <div class=\"options-icon\"><span class=\"icon glyphicon glyphicon-earphone\" aria-hidden=\"true\"></span></div>\n          <span class=\"options-text\">call</span>\n        </div>\n        <div class=\"video\">\n          <div class=\"options-icon\"><span class=\"icon glyphicon glyphicon-facetime-video\" aria-hidden=\"true\"></span></div>\n          <span class=\"options-text\">video</span>\n        </div>\n        <div class=\"mail\">\n          <div class=\"options-icon\"><span class=\"icon glyphicon glyphicon-envelope\" aria-hidden=\"true\"></span></div>\n          <span class=\"options-text\">mail</span>\n        </div>\n      </div>\n      <div class=\"options-table\">\n        <div class=\"user-data-all\">\n          <div class=\"user-data\">\n    \t\t\t\t\t<h3>email</h3>\n    \t\t\t\t\t<div>${user.email}</div>\n          </div>\n          <div class=\"user-data\">\n    \t\t\t\t\t<h3>phone</h3>\n    \t\t\t\t\t<div>${user.phone}</div>\n          </div>\n        </div>\n        <div class=\"options-item\"><a href=\"#\">Notes</a></div>\n        <div class=\"options-item\"><a href=\"#\">Send message</a></div>\n        <div class=\"options-item\"><a href=\"#\">Share contact</a></div>\n        <div class=\"options-item\"><a href=\"#\">Add to favorites</a></div>\n        <div class=\"options-item\"><a href=\"#\">Share my location</a></div>\n        <div class=\"options-item\"><a href=\"#\">Block this caller</a></div>\n      </div>\n      </div>`;\n\n  }\n  goToEditUser(){\n    var control = document.querySelector('#editContact');\n    var href = control.getAttribute('href');\n    control.addEventListener('click', e =>{\n      e.preventDefault();\n\n      app.ui.editContact.render();\n      history.pushState(href, href, href);\n    });\n\n  }\n  main() {\n    const mainHtml = this.createTag('main', this.appHTML);\n    const div = this.createTag('div', mainHtml, 'container');\n    this.createOptionsLine(div);\n    this.goToEditUser();\n  }\n\n  render() {\n    this.appHTML.innerHTML = '';\n    this.header();\n    this.main();\n  }\n}\n\nexport default User;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/user.js\n// module id = 6\n// module chunks = 0"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;A;;;;;AC7DA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACvGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACnDA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AClHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC9GA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC1KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC9KA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}